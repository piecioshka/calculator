<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><meta name="description" content=""><meta name="keywords" content=""><link rel="shortcut icon" href="" type="image/x-icon"><meta property="og:title" content=""><meta property="og:description" content=""><meta property="og:image" content=""><!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><link href="landing_pliki/css.css" type="text/css" rel="stylesheet"><!--[if lt IE 9]><link href="https://old.assets-landingi.com/bootstrap/css/ie8-grid.css?v=8.9.8" type="text/css" rel="stylesheet"><link href="https://styles.assets-landingi.com/NrP3B7de/base_ie8.css" type="text/css" rel="stylesheet"><![endif]--><style data-name="customCss" type="text/css">.moneySlider,
.timeSlider {
  -webkit-appearance: none;
  width: 100%;
  height: 25px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.moneySlider:hover,
.timeSlider:hover {
  opacity: 1;
}

.moneySlider::-webkit-slider-thumb,
.timeSlider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  background: #4CAF50;
  cursor: pointer;
}

.moneySlider::-moz-range-thumb,
.timeSlider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #4CAF50;
  cursor: pointer;
}</style><link href="landing_pliki/2.css" type="text/css" rel="stylesheet"><link href="landing_pliki/base.css" type="text/css" rel="stylesheet"></head><body id="TxvpQxGuo6CkxW3pseVeXnPkXz3TAWhR">
<div id="fwG8O6R5wFuI4GIMqEzXMxnoiEH1Tctn" class="widget widget-section">
    <div class="row">
        
        <div class="container">
            
            <div id="iJV210k7JLrCfdeBXVg3bBdvKXatJTFC" class="widget widget-html"><div id="custom-html-value" style="position: relative;"><div class="money">
  <input type="range" min="500" max="150000" value="63004" class="moneySlider">
</div></div></div><div id="yczRXedShT7xlLEWvoKV3dkLJCuGu0xu" class="widget widget-text moneyValue">63000</div><div id="IKwy0AefGBJ0k7Ek9TvT5gRwyvae8odm" class="widget widget-html"><div id="custom-html-value" style="position: relative;"><div class="time">
  <input type="range" min="3" max="120" value="100" class="timeSlider">
</div></div></div><div id="yM8N3iBFDqUaTVKX98ltN1Vh40Um3QiK" class="widget widget-text timeValue">100</div><div id="BWWlAamc6VXIFHupM5yTWkGab7ZaT4FA" class="widget widget-text"><p>Ile pieniędzy chcesz pożyczyć?</p></div><div id="tsMwp3qXWBQc8TM9zFh2q3fTg58iazul" class="widget widget-text"><p>Pierwszy kredyt gotówkowy</p></div><div id="rXUz2BmeOJyJ3Fn3PFkpUyE6yFt48k9L" class="widget widget-text"><p>W jakim czasie chcesz spłacić kredyt?</p></div><div id="y7ZZvixSocuGo9Td53O7oge7Sf5pXIdd" class="widget widget-text monthlyValue"><p><br></p></div><div id="MOZu3btWubAO2Z1PX6P99ugpI8L2P8Am" class="widget widget-text interestValue">7.99</div><div id="yHXqb5Iqa4E1bRRuV1PFIpyAJgLyPAmw" class="widget widget-text commissionValue">4.49</div><div id="kut60VkVloBD2tubrUTIJtwiuO90BM0x" class="widget widget-text"><p>Miesięczna rata:</p></div><div id="rvScPRVzyp8MTiHddz1pee11eHTJpf3E" class="widget widget-text"><p>Oprocentowanie nominalne w skali roku:</p></div><div id="CzDlzNyGXCdP7gJExNENwfee6QAUsaCp" class="widget widget-text"><p>Prowizja:</p></div><div id="od8yOW9NGQxD91nf6ihT9aFX0h8ZVMX0" class="widget widget-text rrso"><p>0.09441493%</p></div><div id="ATe1AVZUJv6Umtfe9T7xCnwfGpGRDBq7" class="widget widget-text totalCost"><p><br></p></div><div id="D1H1dq9xlZKGqbXooVfgfBOxvcghKZKI" class="widget widget-text"><p>RRSO:</p></div><div id="TTbmd1DzSXri3sTfSfASlSdyu3fy6Tb7" class="widget widget-text"><p>Całkowity koszt kredytu:</p></div><i id="Lnx66zG36bXAhgIPcIbmsEOxOp6o9Xhe" class="fa fa-smile-o widget widget-icon trigger"></i>
        </div>
    </div>
</div><script type="text/javascript" src="landing_pliki/jquery_002.js"></script><script type="text/javascript" src="landing_pliki/landend_003.js"></script><script type="text/javascript" src="landing_pliki/bootbox.js"></script><script type="text/javascript" src="landing_pliki/landing.js"></script><script type="text/javascript" src="landing_pliki/landend.js"></script><script type="text/javascript" src="landing_pliki/jquery.js"></script>
<script type="text/javascript" src="landing_pliki/landend_002.js"></script>
<script type="text/javascript" src="landing_pliki/validation.js"></script><script>$(function(){$("body").append('<img src="https://analytics.landingi.com/track/512275" alt="" style="display:none;">');});</script><script src="landing_pliki/moment.js"></script>
<script>
  
  let interestValue = document.querySelector('.interestValue')
  let commissionValue = document.querySelector('.commissionValue')
  let moneySlider = document.querySelector('.moneySlider')
  let timeSlider = document.querySelector('.timeSlider')
  let moneyField = document.querySelector('.moneyValue')
  let timeField = document.querySelector('.timeValue')


    moneyField.innerHTML = moneySlider.value
  timeField.innerHTML = timeSlider.value
  
  moneySlider.oninput = function() {
    moneyField.innerHTML = Math.round(this.value / 100) * 100
  }

  timeSlider.oninput = function() {
    timeField.innerHTML = this.value
  }


  
    $('.moneySlider').on('.propertychange input', function() {
    if (moneyField.innerHTML <= 5000) {
        (interestValue.innerHTML = 9.99);
      } else if (moneyField.innerHTML > 5000 && moneyField.innerHTML <= 15000) {
        (interestValue.innerHTML = 9.49);
      } else if (moneyField.innerHTML > 15000 && moneyField.innerHTML <= 50000) {
        (interestValue.innerHTML = 8.99);
      } else if (moneyField.innerHTML > 50000) {
        (interestValue.innerHTML = 7.99);
      }
  })
  
  $('.moneySlider').on('.propertychange input', function() {
    if (moneyField.innerHTML >= 500 && moneyField.innerHTML <= 5000 && timeField.innerHTML >= 3 && timeField.innerHTML <= 96) {
        commissionValue.innerHTML = 6.99
      } else if (moneyField.innerHTML > 5000 && moneyField.innerHTML <= 15000 && timeField.innerHTML >= 3 && timeField.innerHTML <= 96) {
        commissionValue.innerHTML = 6.49
      } else if (moneyField.innerHTML > 15000 && moneyField.innerHTML <= 30000 && timeField.innerHTML >= 3 && timeField.innerHTML <= 96) {
        commissionValue.innerHTML = 5.49
      } else if (moneyField.innerHTML > 30000 && moneyField.innerHTML <= 50000) {
        commissionValue.innerHTML = 4.99
      } else if (moneyField.innerHTML > 50000 && moneyField.innerHTML <= 100000) {
        commissionValue.innerHTML = 4.49
      } else if (moneyField.innerHTML > 100000) {
        commissionValue.innerHTML = 3.99
      } else if (moneyField.innerHTML <= 30000 && timeField.innerHTML <= 96) {
        commissionValue.innerHTML = 5.49
      } else if (timeField.innerHTML > 96) {
        commissionValue.innerHTML = 5.49
      }
    })
</script>
<script>
//const moment = require('moment')


const start = moment()
const end = start.add(100, 'M')

let commission = 0.03990
let period = 100
let netValue = 109900
let percent = 0.079990
let monthlyRate = Math.round((netValue + netValue * commission) * percent / 12 / (1 - Math.pow((1 + percent / 12), (-period))))
let insuranceMultiplier = 0.00218
let insurance  = (netValue + netValue * commission) * insuranceMultiplier
let totalInsurance = insurance * period
let monthlyRateWithInsurance = Math.round((netValue + netValue * commission + totalInsurance) * percent / 12 / (1 - Math.pow((1 + percent / 12), (-period))))

                           
function init(period, netValue, percent, rate) {

function getDaysInCurrentYear(year) {
    return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((i) => {
        return moment(year, 'YYYY').add(i, 'M').daysInMonth()
    }).reduce((total, current) => total + current, 0)
}

function tki(i) {
    let today = start.add(i, 'M')
    let currentYear = today.format('YYYY')
    return ((i * 30.41666) / getDaysInCurrentYear(currentYear))
}

function aki(i) {
    if (i === 0) {
        return netValue
    } else if (i - 1 <= period) {
        return monthlyRate * -1
    } else {
        return 0
    }
}

function fun1(i) {
    if (i === 0) {
        return netValue
    } else if (aki(i) / Math.pow(1 + percent, tki(i)) === 0) {
        return null
    } else {
        return (aki(i) / Math.pow(1 + percent, tki(i)))
    }
}

function deriv1(i) {
    if (i === 0) {
        return null
    } else if ((aki(i) * tki(i)) / Math.pow(1 + percent, tki(i) + 1) === 0) {
        return 0
    } else {
        return (-(aki(i) * tki(i)) / Math.pow(1 + percent, tki(i) + 1))
    }
}


function fun2(i, oprocentowanie2) {
    if (i === 0) {
        return netValue
    } else if (aki(i) / Math.pow(1 + oprocentowanie2, tki(i)) === 0) {
        return null
    } else {
        return (aki(i) / Math.pow(1 + oprocentowanie2, tki(i)))
    }
}

function deriv2(i, oprocentowanie2) {
    if (i === 0) {
        return null
    } else if (-(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie2, tki(i) + 1) === 0) {
        return null
    } else {
        return (-(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie2, tki(i) + 1))
    }
}

function fun3(i, oprocentowanie3) {
    if (i === 0) {
        return netValue
    } else if (aki(i) / Math.pow(1 + oprocentowanie3, tki(i)) === 0) {
        return null
    } else {
        return aki(i) / Math.pow(1 + oprocentowanie3, tki(i));
    }
}

function deriv3(i, oprocentowanie3) {
    if (i === 0) {
        return null
    } else if (-(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie3, tki(i) + 1) === 0) {
        return null
    } else {
        return -(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie3, tki(i) + 1)
    }
}

function fun4(i, oprocentowanie4) {
    if (i === 0) {
        return netValue
    } else if (aki(i) / Math.pow(1 + oprocentowanie4, tki(i)) === 0) {
        return null
    } else {
        return aki(i) / Math.pow(1 + oprocentowanie4, tki(i))
    }
}

function deriv4(i, oprocentowanie4) {
    if (i === 0) {
        return null
    } else if (-(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie4, tki(i) + 1) === 0) {
        return null
    } else {
        return -(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie4, tki(i) + 1)
    }
}

function fun5(i, oprocentowanie5) {
    if (i === 0) {
        return netValue
    } else if (aki(i) / Math.pow(1 + oprocentowanie5, tki(i)) === 0) {
        return null
    } else {
        return aki(i) / Math.pow(1 + oprocentowanie5, tki(i));
    }
}

function deriv5(i, oprocentowanie5) {
    if (i === 0) {
        return null
    } else if (-(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie5, tki(i) + 1) === 0) {
        return null
    } else {
        return -(aki(i) * tki(i)) / Math.pow(1 + oprocentowanie5, tki(i) + 1)
    }
}

function resultantRate1() {
    return percent - fun1Sum / deriv1Sum
}

function resultantRate2() {
    return resultantRate1() - fun2Sum / deriv2Sum
}

function resultantRate3() {
    return resultantRate2() - fun3Sum / deriv3Sum
}

function resultantRate4() {
    return resultantRate3() - fun4Sum / deriv4Sum
}

function resultantRate5() {
    return resultantRate4() - fun5Sum / deriv5Sum
}
console.log(i)
function myRRSO() {
    return (resultantRate5().toString().substring(0, 10)) + '%'
}


let tabela = []

for (var i = 0; i <= period; i++) {
    tabela[i] = {
        tki: tki(i),
        aki: aki(i),
        fun1: fun1(i),
        deriv1: deriv1(i),
        //fun2: fun2(i),
        //deriv2: deriv2(i),
        // fun3: fun3(i),
        // deriv3: deriv3(i),
        // fun4: fun4(i),
        // deriv4: deriv4(i),
        // fun5: fun5(i),
        // deriv5: deriv5(i),
    }
}

let fun1Sum = tabela.reduce(function(total, row) {
    return total + row.fun1
}, 0)

let deriv1Sum = tabela.reduce(function(total, row) {
    return total + row.deriv1
}, 0)

let oprocentowanie2 = percent - (fun1Sum / deriv1Sum);

tabela.forEach((row, i) => {
    tabela[i].fun2 = fun2(i, oprocentowanie2)
    tabela[i].deriv2 = deriv2(i, oprocentowanie2)
})


let fun2Sum = tabela.reduce(function(total, row) {
    return total + row.fun2
}, 0)

let deriv2Sum = tabela.reduce(function(total, row) {
    return total + row.deriv2
}, 0)

let oprocentowanie3 = oprocentowanie2 - (fun2Sum / deriv2Sum)

tabela.forEach((row, i) => {
    tabela[i].fun3 = fun3(i, oprocentowanie3)
    tabela[i].deriv3 = deriv3(i, oprocentowanie3)
})


let fun3Sum = tabela.reduce(function(total, row) {
    return total + row.fun3
}, 0)

let deriv3Sum = tabela.reduce(function(total, row) {
    return total + row.deriv3
}, 0)

let oprocentowanie4 = oprocentowanie3 - (fun3Sum / deriv3Sum)

tabela.forEach((row, i) => {
    tabela[i].fun4 = fun4(i, oprocentowanie4)
    tabela[i].deriv4 = deriv4(i, oprocentowanie4)
})

let fun4Sum = tabela.reduce(function(total, row) {
    return total + row.fun4
}, 0)

let deriv4Sum = tabela.reduce(function(total, row) {
    return total + row.deriv4
}, 0)

let oprocentowanie5 = oprocentowanie4 - (fun4Sum / deriv4Sum)

tabela.forEach((row, i) => {
    tabela[i].fun5 = fun5(i, oprocentowanie5)
    tabela[i].deriv5 = deriv5(i, oprocentowanie5)
})

let fun5Sum = tabela.reduce(function(total, row) {
    return total + row.fun5
}, 0)

let deriv5Sum = tabela.reduce(function(total, row) {
    return total + row.deriv5
}, 0)


document.querySelector('#od8yOW9NGQxD91nf6ihT9aFX0h8ZVMX0 > p').innerHTML = myRRSO(i)


console.log(myRRSO(i))
}



</script>
<script>
  
  
 $('.moneySlider').on('propertychange input', function(){
    init(period, netValue, percent, monthlyRate)
  })
  $('.timeSlider').on('propertychange input', function() {
    init(period, netValue, percent, monthlyRate)
  })
</script><script src="landing_pliki/videoBackground.js"></script><img src="landing_pliki/512275.json" alt="" style="display:none;"></body></html>
